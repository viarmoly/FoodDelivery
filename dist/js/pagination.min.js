(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.pagination = void 0;

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

var pagination = {
  list: [],
  pageList: [],
  paginationList: [],
  qtyPagList: [],
  currentPage: 1,
  numberPerPage: 3,
  numberOfPages: 1,
  getScreenWidth: function getScreenWidth() {
    if (window.innerWidth <= 1080) {
      console.log(window.innerWidth);
      this.numberPerPage = 4;
    }
  },
  getNumberOfPages: function getNumberOfPages() {
    return Math.ceil(pagination.list.length / pagination.numberPerPage);
  },
  paginationCheck: function paginationCheck() {
    if (this.numberOfPages <= 1) {
      console.log('what?' + this.numberOfPages);
      pagination.remove();
    }
  },
  makeContentList: function makeContentList() {
    var itemsQty = document.getElementById('container');
    var items = itemsQty.children;
    this.list = _toConsumableArray(items);
    return this.list;
  },
  loadContentList: function loadContentList() {
    var begin = (this.currentPage - 1) * this.numberPerPage;
    var end = begin + this.numberPerPage;
    this.pageList = this.list.slice(begin, end);
    pagination.drawList();
  },
  drawList: function drawList() {
    document.getElementById('container').innerHTML = '';
    var container = document.getElementById('container');
    this.pageList.forEach(function (item) {
      container.appendChild(item);
    });
  },
  makePaginationList: function makePaginationList() {
    var pageConatiner = document.createElement('span');

    for (var i = 1; i <= this.numberOfPages; i++) {
      var pageNumber = document.createElement('a');

      if (i === 1) {
        pageNumber.classList.add('current');
      }

      pageNumber.textContent = "".concat(i);
      pageNumber.addEventListener('click', currentPageNumber);
      pageConatiner.appendChild(pageNumber);
    }

    this.paginationList = _toConsumableArray(pageConatiner.children);
    return this.paginationList;
  },
  paginationCut: function paginationCut() {
    if (this.currentPage <= 6) {
      this.qtyPagList = this.paginationList.slice(0, 10);
    } else if (this.currentPage > 6 && this.currentPage < this.paginationList.length - 4) {
      this.qtyPagList = this.paginationList.slice(this.currentPage - 6, this.currentPage + 4);
    } else if (this.currentPage >= this.paginationList.length - 4) {
      this.qtyPagList = this.paginationList.slice(-10);
    }

    pagination.drawPagination();
  },
  drawPagination: function drawPagination() {
    var pagination = document.getElementById('pagination');
    document.getElementById('pagination').innerHTML = '';
    var first = document.createElement('a');
    var firstIcon = document.createElement('i');
    firstIcon.className = 'fas fa-1x fa-angle-double-left';
    first.appendChild(firstIcon);
    first.addEventListener('click', firstPage);
    pagination.appendChild(first);
    var prev = document.createElement('a');
    var prevIcon = document.createElement('i');
    prevIcon.className = 'fas fa-1x fa-angle-left';
    prev.appendChild(prevIcon);
    prev.addEventListener('click', previousPage);
    pagination.appendChild(prev);
    var pageConatiner = document.createElement('span');
    this.qtyPagList.forEach(function (item) {
      pageConatiner.appendChild(item);
    });
    pagination.appendChild(pageConatiner);
    var next = document.createElement('a');
    var nextIcon = document.createElement('i');
    nextIcon.className = 'fas fa-1x fa-angle-right';
    next.appendChild(nextIcon);
    next.addEventListener('click', nextPage);
    pagination.appendChild(next);
    var last = document.createElement('a');
    var lastIcon = document.createElement('i');
    lastIcon.className = 'fas fa-1x fa-angle-double-right';
    last.appendChild(lastIcon);
    last.addEventListener('click', lastPage);
    pagination.appendChild(last);
  },
  toggleClass: function toggleClass() {
    this.paginationList.forEach(function (item) {
      return item.classList.remove('current');
    });
    this.qtyPagList.forEach(function (item) {
      return item.classList.remove('current');
    });

    if (this.currentPage) {
      this.paginationList[this.currentPage - 1].className = "current";
    }
  },
  remove: function remove() {
    var pagination = document.getElementById('pagination');
    document.getElementById('pagination').innerHTML = '';
  },
  loadEvents: function loadEvents() {
    pagination.paginationCut();
    pagination.toggleClass();
    pagination.loadContentList();
  },
  load: function load() {
    pagination.getScreenWidth();
    pagination.makeContentList();
    this.currentPage = 1;
    this.numberOfPages = pagination.getNumberOfPages();
    pagination.makePaginationList();
    pagination.paginationCut();
    pagination.loadContentList();
    pagination.drawList();
    pagination.paginationCheck();
  }
};
exports.pagination = pagination;

function currentPageNumber(ev) {
  ev.preventDefault();
  var position = parseInt(ev.target.text);

  if (position !== pagination.currentPage) {
    pagination.currentPage = position;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  }
}

function nextPage(ev) {
  if (pagination.currentPage !== pagination.numberOfPages) {
    pagination.currentPage += 1;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  } else {
    ev.preventDefault();
  }
}

function previousPage(ev) {
  ev.preventDefault();

  if (pagination.currentPage !== 1) {
    pagination.currentPage -= 1;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  } else {
    ev.preventDefault();
  }
}

function firstPage(ev) {
  ev.preventDefault();

  if (pagination.currentPage !== 1) {
    pagination.currentPage = 1;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  }
}

function lastPage(ev) {
  ev.preventDefault();

  if (pagination.currentPage !== pagination.numberOfPages) {
    pagination.currentPage = pagination.numberOfPages;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  }
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvcGFnaW5hdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7OztBQ0FPLElBQU0sVUFBVSxHQUFHO0FBQ3RCLEVBQUEsSUFBSSxFQUFFLEVBRGdCO0FBRXRCLEVBQUEsUUFBUSxFQUFFLEVBRlk7QUFHdEIsRUFBQSxjQUFjLEVBQUUsRUFITTtBQUl0QixFQUFBLFVBQVUsRUFBRSxFQUpVO0FBS3RCLEVBQUEsV0FBVyxFQUFFLENBTFM7QUFNdEIsRUFBQSxhQUFhLEVBQUUsQ0FOTztBQU90QixFQUFBLGFBQWEsRUFBRSxDQVBPO0FBU3RCLEVBQUEsY0FUc0IsNEJBU0w7QUFDYixRQUFJLE1BQU0sQ0FBQyxVQUFQLElBQXFCLElBQXpCLEVBQStCO0FBQzNCLE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFNLENBQUMsVUFBbkI7QUFDQSxXQUFLLGFBQUwsR0FBcUIsQ0FBckI7QUFDSDtBQUNKLEdBZHFCO0FBaUJ0QixFQUFBLGdCQWpCc0IsOEJBaUJIO0FBQ2YsV0FBTyxJQUFJLENBQUMsSUFBTCxDQUFVLFVBQVUsQ0FBQyxJQUFYLENBQWdCLE1BQWhCLEdBQXlCLFVBQVUsQ0FBQyxhQUE5QyxDQUFQO0FBQ0gsR0FuQnFCO0FBcUJ0QixFQUFBLGVBckJzQiw2QkFxQko7QUFDZCxRQUFJLEtBQUssYUFBTCxJQUFzQixDQUExQixFQUE2QjtBQUN6QixNQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksVUFBVSxLQUFLLGFBQTNCO0FBQ0EsTUFBQSxVQUFVLENBQUMsTUFBWDtBQUNIO0FBQ0osR0ExQnFCO0FBNEJ0QixFQUFBLGVBNUJzQiw2QkE0Qko7QUFDZCxRQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixXQUF4QixDQUFmO0FBQ0EsUUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLFFBQXJCO0FBQ0EsU0FBSyxJQUFMLHNCQUFn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LENBQS9CLEVBQWtDO0FBQzlCLElBQUEsVUFBVSxDQUFDLFdBQVgsSUFBMEIsQ0FBMUI7QUFDQSxJQUFBLFVBQVUsQ0FBQyxVQUFYO0FBQ0EsSUFBQSxNQUFNLENBQUMsUUFBUCxDQUFnQixDQUFoQixFQUFtQixDQUFuQjtBQUNILEdBSkQsTUFJTztBQUNILElBQUEsRUFBRSxDQUFDLGNBQUg7QUFDSDtBQUNKOztBQUVELFNBQVMsU0FBVCxDQUFtQixFQUFuQixFQUF1QjtBQUNuQixFQUFBLEVBQUUsQ0FBQyxjQUFIOztBQUNBLE1BQUksVUFBVSxDQUFDLFdBQVgsS0FBMkIsQ0FBL0IsRUFBa0M7QUFDOUIsSUFBQSxVQUFVLENBQUMsV0FBWCxHQUF5QixDQUF6QjtBQUNBLElBQUEsVUFBVSxDQUFDLFVBQVg7QUFDQSxJQUFBLE1BQU0sQ0FBQyxRQUFQLENBQWdCLENBQWhCLEVBQW1CLENBQW5CO0FBQ0g7QUFDSjs7QUFFRCxTQUFTLFFBQVQsQ0FBa0IsRUFBbEIsRUFBc0I7QUFDbEIsRUFBQSxFQUFFLENBQUMsY0FBSDs7QUFDQSxNQUFJLFVBQVUsQ0FBQyxXQUFYLEtBQTJCLFVBQVUsQ0FBQyxhQUExQyxFQUF5RDtBQUNyRCxJQUFBLFVBQVUsQ0FBQyxXQUFYLEdBQXlCLFVBQVUsQ0FBQyxhQUFwQztBQUNBLElBQUEsVUFBVSxDQUFDLFVBQVg7QUFDQSxJQUFBLE1BQU0sQ0FBQyxRQUFQLENBQWdCLENBQWhCLEVBQW1CLENBQW5CO0FBQ0g7QUFDSiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBjb25zdCBwYWdpbmF0aW9uID0ge1xyXG4gICAgbGlzdDogW10sXHJcbiAgICBwYWdlTGlzdDogW10sXHJcbiAgICBwYWdpbmF0aW9uTGlzdDogW10sXHJcbiAgICBxdHlQYWdMaXN0OiBbXSxcclxuICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgbnVtYmVyUGVyUGFnZTogMyxcclxuICAgIG51bWJlck9mUGFnZXM6IDEsXHJcblxyXG4gICAgZ2V0U2NyZWVuV2lkdGgoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwODApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cod2luZG93LmlubmVyV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLm51bWJlclBlclBhZ2UgPSA0O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIGdldE51bWJlck9mUGFnZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChwYWdpbmF0aW9uLmxpc3QubGVuZ3RoIC8gcGFnaW5hdGlvbi5udW1iZXJQZXJQYWdlKTtcclxuICAgIH0sXHJcblxyXG4gICAgcGFnaW5hdGlvbkNoZWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm51bWJlck9mUGFnZXMgPD0gMSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnd2hhdD8nICsgdGhpcy5udW1iZXJPZlBhZ2VzKVxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgbWFrZUNvbnRlbnRMaXN0KCkge1xyXG4gICAgICAgIGxldCBpdGVtc1F0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKTtcclxuICAgICAgICBsZXQgaXRlbXMgPSBpdGVtc1F0eS5jaGlsZHJlbjtcclxuICAgICAgICB0aGlzLmxpc3QgPSBbLi4uaXRlbXNdO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3Q7XHJcbiAgICB9LFxyXG5cclxuICAgIGxvYWRDb250ZW50TGlzdCgpIHtcclxuICAgICAgICBsZXQgYmVnaW4gPSAoKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMubnVtYmVyUGVyUGFnZSk7XHJcbiAgICAgICAgbGV0IGVuZCA9IGJlZ2luICsgdGhpcy5udW1iZXJQZXJQYWdlO1xyXG4gICAgICAgIHRoaXMucGFnZUxpc3QgPSB0aGlzLmxpc3Quc2xpY2UoYmVnaW4sIGVuZCk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5kcmF3TGlzdCgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBkcmF3TGlzdCgpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJykuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKTtcclxuICAgICAgICB0aGlzLnBhZ2VMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIG1ha2VQYWdpbmF0aW9uTGlzdCgpIHtcclxuICAgICAgICBsZXQgcGFnZUNvbmF0aW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLm51bWJlck9mUGFnZXM7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGFnZU51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VOdW1iZXIuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFnZU51bWJlci50ZXh0Q29udGVudCA9IGAke2l9YDtcclxuICAgICAgICAgICAgcGFnZU51bWJlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGN1cnJlbnRQYWdlTnVtYmVyKTtcclxuICAgICAgICAgICAgcGFnZUNvbmF0aW5lci5hcHBlbmRDaGlsZChwYWdlTnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uTGlzdCA9IFsuLi5wYWdlQ29uYXRpbmVyLmNoaWxkcmVuXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYWdpbmF0aW9uTGlzdDtcclxuICAgIH0sXHJcblxyXG4gICAgcGFnaW5hdGlvbkN1dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA8PSA2KSB7XHJcbiAgICAgICAgICAgIHRoaXMucXR5UGFnTGlzdCA9IHRoaXMucGFnaW5hdGlvbkxpc3Quc2xpY2UoMCwgMTApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50UGFnZSA+IDYgJiYgdGhpcy5jdXJyZW50UGFnZSA8IHRoaXMucGFnaW5hdGlvbkxpc3QubGVuZ3RoIC0gNCkge1xyXG4gICAgICAgICAgICB0aGlzLnF0eVBhZ0xpc3QgPSB0aGlzLnBhZ2luYXRpb25MaXN0LnNsaWNlKHRoaXMuY3VycmVudFBhZ2UgLSA2LCB0aGlzLmN1cnJlbnRQYWdlICsgNCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQYWdlID49IHRoaXMucGFnaW5hdGlvbkxpc3QubGVuZ3RoIC0gNCkge1xyXG4gICAgICAgICAgICB0aGlzLnF0eVBhZ0xpc3QgPSB0aGlzLnBhZ2luYXRpb25MaXN0LnNsaWNlKC0xMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhZ2luYXRpb24uZHJhd1BhZ2luYXRpb24oKTtcclxuICAgIH0sXHJcbiAgICBkcmF3UGFnaW5hdGlvbigpIHtcclxuICAgICAgICBsZXQgcGFnaW5hdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdpbmF0aW9uJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2luYXRpb24nKS5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICAgICAgbGV0IGZpcnN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGxldCBmaXJzdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgICAgZmlyc3RJY29uLmNsYXNzTmFtZSA9ICdmYXMgZmEtMXggZmEtYW5nbGUtZG91YmxlLWxlZnQnO1xyXG4gICAgICAgIGZpcnN0LmFwcGVuZENoaWxkKGZpcnN0SWNvbik7XHJcbiAgICAgICAgZmlyc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmaXJzdFBhZ2UpO1xyXG4gICAgICAgIHBhZ2luYXRpb24uYXBwZW5kQ2hpbGQoZmlyc3QpO1xyXG5cclxuICAgICAgICBsZXQgcHJldiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBsZXQgcHJldkljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgICAgcHJldkljb24uY2xhc3NOYW1lID0gJ2ZhcyBmYS0xeCBmYS1hbmdsZS1sZWZ0JztcclxuICAgICAgICBwcmV2LmFwcGVuZENoaWxkKHByZXZJY29uKTtcclxuICAgICAgICBwcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldmlvdXNQYWdlKTtcclxuICAgICAgICBwYWdpbmF0aW9uLmFwcGVuZENoaWxkKHByZXYpO1xyXG5cclxuICAgICAgICBsZXQgcGFnZUNvbmF0aW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcbiAgICAgICAgdGhpcy5xdHlQYWdMaXN0LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHBhZ2VDb25hdGluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBhZ2luYXRpb24uYXBwZW5kQ2hpbGQocGFnZUNvbmF0aW5lcik7XHJcblxyXG4gICAgICAgIGxldCBuZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGxldCBuZXh0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgICAgICBuZXh0SWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLTF4IGZhLWFuZ2xlLXJpZ2h0JztcclxuICAgICAgICBuZXh0LmFwcGVuZENoaWxkKG5leHRJY29uKTtcclxuICAgICAgICBuZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmV4dFBhZ2UpO1xyXG4gICAgICAgIHBhZ2luYXRpb24uYXBwZW5kQ2hpbGQobmV4dCk7XHJcblxyXG4gICAgICAgIGxldCBsYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGxldCBsYXN0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgICAgICBsYXN0SWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLTF4IGZhLWFuZ2xlLWRvdWJsZS1yaWdodCc7XHJcbiAgICAgICAgbGFzdC5hcHBlbmRDaGlsZChsYXN0SWNvbik7XHJcbiAgICAgICAgbGFzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxhc3RQYWdlKTtcclxuICAgICAgICBwYWdpbmF0aW9uLmFwcGVuZENoaWxkKGxhc3QpO1xyXG4gICAgfSxcclxuXHJcbiAgICB0b2dnbGVDbGFzcygpIHtcclxuICAgICAgICB0aGlzLnBhZ2luYXRpb25MaXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKSk7XHJcbiAgICAgICAgdGhpcy5xdHlQYWdMaXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uTGlzdFt0aGlzLmN1cnJlbnRQYWdlIC0gMV0uY2xhc3NOYW1lID0gXCJjdXJyZW50XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbW92ZSgpIHtcclxuICAgICAgICBsZXQgcGFnaW5hdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdpbmF0aW9uJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2luYXRpb24nKS5pbm5lckhUTUwgPSAnJztcclxuICAgIH0sXHJcblxyXG4gICAgbG9hZEV2ZW50cygpIHtcclxuICAgICAgICBwYWdpbmF0aW9uLnBhZ2luYXRpb25DdXQoKTtcclxuICAgICAgICBwYWdpbmF0aW9uLnRvZ2dsZUNsYXNzKCk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5sb2FkQ29udGVudExpc3QoKTtcclxuICAgIH0sXHJcbiAgICBsb2FkKCkge1xyXG4gICAgICAgIHBhZ2luYXRpb24uZ2V0U2NyZWVuV2lkdGgoKTtcclxuICAgICAgICBwYWdpbmF0aW9uLm1ha2VDb250ZW50TGlzdCgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMubnVtYmVyT2ZQYWdlcyA9IHBhZ2luYXRpb24uZ2V0TnVtYmVyT2ZQYWdlcygpO1xyXG4gICAgICAgIHBhZ2luYXRpb24ubWFrZVBhZ2luYXRpb25MaXN0KCk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5wYWdpbmF0aW9uQ3V0KCk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5sb2FkQ29udGVudExpc3QoKTtcclxuICAgICAgICBwYWdpbmF0aW9uLmRyYXdMaXN0KCk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5wYWdpbmF0aW9uQ2hlY2soKVxyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gY3VycmVudFBhZ2VOdW1iZXIoZXYpIHtcclxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgcG9zaXRpb24gPSBwYXJzZUludChldi50YXJnZXQudGV4dCk7XHJcbiAgICBpZiAocG9zaXRpb24gIT09IHBhZ2luYXRpb24uY3VycmVudFBhZ2UpIHtcclxuICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnRQYWdlID0gcG9zaXRpb247XHJcbiAgICAgICAgcGFnaW5hdGlvbi5sb2FkRXZlbnRzKCk7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBuZXh0UGFnZShldikge1xyXG4gICAgaWYgKHBhZ2luYXRpb24uY3VycmVudFBhZ2UgIT09IHBhZ2luYXRpb24ubnVtYmVyT2ZQYWdlcykge1xyXG4gICAgICAgIHBhZ2luYXRpb24uY3VycmVudFBhZ2UgKz0gMTtcclxuICAgICAgICBwYWdpbmF0aW9uLmxvYWRFdmVudHMoKTtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcHJldmlvdXNQYWdlKGV2KSB7XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKHBhZ2luYXRpb24uY3VycmVudFBhZ2UgIT09IDEpIHtcclxuICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnRQYWdlIC09IDE7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5sb2FkRXZlbnRzKCk7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaXJzdFBhZ2UoZXYpIHtcclxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAocGFnaW5hdGlvbi5jdXJyZW50UGFnZSAhPT0gMSkge1xyXG4gICAgICAgIHBhZ2luYXRpb24uY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgICAgIHBhZ2luYXRpb24ubG9hZEV2ZW50cygpO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGFzdFBhZ2UoZXYpIHtcclxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAocGFnaW5hdGlvbi5jdXJyZW50UGFnZSAhPT0gcGFnaW5hdGlvbi5udW1iZXJPZlBhZ2VzKSB7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50UGFnZSA9IHBhZ2luYXRpb24ubnVtYmVyT2ZQYWdlcztcclxuICAgICAgICBwYWdpbmF0aW9uLmxvYWRFdmVudHMoKTtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICB9XHJcbn1cclxuIl19
