(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.pagination = void 0;

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

var pagination = {
  list: [],
  pageList: [],
  paginationList: [],
  qtyPagList: [],
  currentPage: 1,
  numberPerPage: 3,
  numberOfPages: 1,
  getScreenWidth: function getScreenWidth() {
    if (window.innerWidth <= 1080) {
      console.log(window.innerWidth);
      this.numberPerPage = 4;
    }
  },
  getNumberOfPages: function getNumberOfPages() {
    return Math.ceil(pagination.list.length / pagination.numberPerPage);
  },
  makeContentList: function makeContentList() {
    var itemsQty = document.getElementById('container');
    var items = itemsQty.children;
    this.list = _toConsumableArray(items);
    return this.list;
  },
  loadContentList: function loadContentList() {
    var begin = (this.currentPage - 1) * this.numberPerPage;
    var end = begin + this.numberPerPage;
    this.pageList = this.list.slice(begin, end);
    pagination.drawList();
  },
  drawList: function drawList() {
    document.getElementById('container').innerHTML = '';
    var container = document.getElementById('container');
    this.pageList.forEach(function (item) {
      container.appendChild(item);
    });
  },
  makePaginationList: function makePaginationList() {
    var pageConatiner = document.createElement('span');

    for (var i = 1; i <= this.numberOfPages; i++) {
      var pageNumber = document.createElement('a');

      if (i === 1) {
        pageNumber.classList.add('current');
      }

      pageNumber.textContent = "".concat(i);
      pageNumber.addEventListener('click', currentPageNumber);
      pageConatiner.appendChild(pageNumber);
    }

    this.paginationList = _toConsumableArray(pageConatiner.children);
    return this.paginationList;
  },
  paginationCut: function paginationCut() {
    if (this.currentPage <= 6) {
      this.qtyPagList = this.paginationList.slice(0, 10);
    } else if (this.currentPage > 6 && this.currentPage < this.paginationList.length - 4) {
      this.qtyPagList = this.paginationList.slice(this.currentPage - 6, this.currentPage + 4);
    } else if (this.currentPage >= this.paginationList.length - 4) {
      this.qtyPagList = this.paginationList.slice(-10);
    }

    pagination.drawPagination();
  },
  drawPagination: function drawPagination() {
    var pagination = document.getElementById('pagination');
    document.getElementById('pagination').innerHTML = '';
    var first = document.createElement('a');
    var firstIcon = document.createElement('i');
    firstIcon.className = 'fas fa-1x fa-angle-double-left';
    first.appendChild(firstIcon);
    first.addEventListener('click', firstPage);
    pagination.appendChild(first);
    var prev = document.createElement('a');
    var prevIcon = document.createElement('i');
    prevIcon.className = 'fas fa-1x fa-angle-left';
    prev.appendChild(prevIcon);
    prev.addEventListener('click', previousPage);
    pagination.appendChild(prev);
    var pageConatiner = document.createElement('span');
    this.qtyPagList.forEach(function (item) {
      pageConatiner.appendChild(item);
    });
    pagination.appendChild(pageConatiner);
    var next = document.createElement('a');
    var nextIcon = document.createElement('i');
    nextIcon.className = 'fas fa-1x fa-angle-right';
    next.appendChild(nextIcon);
    next.addEventListener('click', nextPage);
    pagination.appendChild(next);
    var last = document.createElement('a');
    var lastIcon = document.createElement('i');
    lastIcon.className = 'fas fa-1x fa-angle-double-right';
    last.appendChild(lastIcon);
    last.addEventListener('click', lastPage);
    pagination.appendChild(last);
  },
  toggleClass: function toggleClass() {
    this.paginationList.forEach(function (item) {
      return item.classList.remove('current');
    });
    this.qtyPagList.forEach(function (item) {
      return item.classList.remove('current');
    });

    if (this.currentPage) {
      this.paginationList[this.currentPage - 1].className = "current";
    }
  },
  remove: function remove() {
    var pagination = document.getElementById('pagination');
    document.getElementById('pagination').innerHTML = '';
  },
  loadEvents: function loadEvents() {
    pagination.paginationCut();
    pagination.toggleClass();
    pagination.loadContentList();
  },
  load: function load() {
    pagination.getScreenWidth();
    pagination.makeContentList();
    this.currentPage = 1;
    this.numberOfPages = pagination.getNumberOfPages();
    pagination.makePaginationList();
    pagination.paginationCut();
    pagination.loadContentList();
    pagination.drawList();
  }
};
exports.pagination = pagination;

function currentPageNumber(ev) {
  ev.preventDefault();
  var position = parseInt(ev.target.text);

  if (position !== pagination.currentPage) {
    pagination.currentPage = position;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  }
}

function nextPage(ev) {
  if (pagination.currentPage !== pagination.numberOfPages) {
    pagination.currentPage += 1;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  } else {
    ev.preventDefault();
  }
}

function previousPage(ev) {
  ev.preventDefault();

  if (pagination.currentPage !== 1) {
    pagination.currentPage -= 1;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  } else {
    ev.preventDefault();
  }
}

function firstPage(ev) {
  ev.preventDefault();

  if (pagination.currentPage !== 1) {
    pagination.currentPage = 1;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  }
}

function lastPage(ev) {
  ev.preventDefault();

  if (pagination.currentPage !== pagination.numberOfPages) {
    pagination.currentPage = pagination.numberOfPages;
    pagination.loadEvents();
    window.scrollTo(0, 0);
  }
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvcGFnaW5hdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7OztBQ0FPLElBQU0sVUFBVSxHQUFHO0FBQ3RCLEVBQUEsSUFBSSxFQUFFLEVBRGdCO0FBRXRCLEVBQUEsUUFBUSxFQUFFLEVBRlk7QUFHdEIsRUFBQSxjQUFjLEVBQUUsRUFITTtBQUl0QixFQUFBLFVBQVUsRUFBRSxFQUpVO0FBS3RCLEVBQUEsV0FBVyxFQUFFLENBTFM7QUFNdEIsRUFBQSxhQUFhLEVBQUUsQ0FOTztBQU90QixFQUFBLGFBQWEsRUFBRSxDQVBPO0FBU3RCLEVBQUEsY0FUc0IsNEJBU047QUFDZCxRQUFHLE1BQU0sQ0FBQyxVQUFQLElBQXFCLElBQXhCLEVBQTZCO0FBQ3pCLE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFNLENBQUMsVUFBbkI7QUFDQSxXQUFLLGFBQUwsR0FBcUIsQ0FBckI7QUFDSDtBQUNGLEdBZHFCO0FBZ0J0QixFQUFBLGdCQWhCc0IsOEJBZ0JIO0FBQ2YsV0FBTyxJQUFJLENBQUMsSUFBTCxDQUFVLFVBQVUsQ0FBQyxJQUFYLENBQWdCLE1BQWhCLEdBQXlCLFVBQVUsQ0FBQyxhQUE5QyxDQUFQO0FBQ0gsR0FsQnFCO0FBb0J0QixFQUFBLGVBcEJzQiw2QkFvQko7QUFDZCxRQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixXQUF4QixDQUFmO0FBQ0EsUUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLFFBQXJCO0FBQ0EsU0FBSyxJQUFMLHNCQUFnQixLQUFoQjtBQUNBLFdBQU8sS0FBSyxJQUFaO0FBQ0gsR0F6QnFCO0FBMkJ0QixFQUFBLGVBM0JzQiw2QkEyQko7QUFDZCxRQUFJLEtBQUssR0FBSSxDQUFDLEtBQUssV0FBTCxHQUFtQixDQUFwQixJQUF5QixLQUFLLGFBQTNDO0FBQ0EsUUFBSSxHQUFHLEdBQUcsS0FB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RUQsU0FBUyxTQUFULENBQW1CLEVBQW5CLEVBQXVCO0FBQ25CLEVBQUEsRUFBRSxDQUFDLGNBQUg7O0FBQ0EsTUFBSSxVQUFVLENBQUMsV0FBWCxLQUEyQixDQUEvQixFQUFrQztBQUM5QixJQUFBLFVBQVUsQ0FBQyxXQUFYLEdBQXlCLENBQXpCO0FBQ0EsSUFBQSxVQUFVLENBQUMsVUFBWDtBQUNBLElBQUEsTUFBTSxDQUFDLFFBQVAsQ0FBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkI7QUFDSDtBQUNKOztBQUVELFNBQVMsUUFBVCxDQUFrQixFQUFsQixFQUFzQjtBQUNsQixFQUFBLEVBQUUsQ0FBQyxjQUFIOztBQUNBLE1BQUksVUFBVSxDQUFDLFdBQVgsS0FBMkIsVUFBVSxDQUFDLGFBQTFDLEVBQXlEO0FBQ3JELElBQUEsVUFBVSxDQUFDLFdBQVgsR0FBeUIsVUFBVSxDQUFDLGFBQXBDO0FBQ0EsSUFBQSxVQUFVLENBQUMsVUFBWDtBQUNBLElBQUEsTUFBTSxDQUFDLFFBQVAsQ0FBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkI7QUFDSDtBQUNKIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0IGNvbnN0IHBhZ2luYXRpb24gPSB7XHJcbiAgICBsaXN0OiBbXSxcclxuICAgIHBhZ2VMaXN0OiBbXSxcclxuICAgIHBhZ2luYXRpb25MaXN0OiBbXSxcclxuICAgIHF0eVBhZ0xpc3Q6IFtdLFxyXG4gICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICBudW1iZXJQZXJQYWdlOiAzLFxyXG4gICAgbnVtYmVyT2ZQYWdlczogMSxcclxuXHJcbiAgICBnZXRTY3JlZW5XaWR0aCgpe1xyXG4gICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDgwKXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoKTtcclxuICAgICAgICAgIHRoaXMubnVtYmVyUGVyUGFnZSA9IDQ7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZ2V0TnVtYmVyT2ZQYWdlcygpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHBhZ2luYXRpb24ubGlzdC5sZW5ndGggLyBwYWdpbmF0aW9uLm51bWJlclBlclBhZ2UpO1xyXG4gICAgfSxcclxuXHJcbiAgICBtYWtlQ29udGVudExpc3QoKSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zUXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xyXG4gICAgICAgIGxldCBpdGVtcyA9IGl0ZW1zUXR5LmNoaWxkcmVuO1xyXG4gICAgICAgIHRoaXMubGlzdCA9IFsuLi5pdGVtc107XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdDtcclxuICAgIH0sXHJcblxyXG4gICAgbG9hZENvbnRlbnRMaXN0KCkge1xyXG4gICAgICAgIGxldCBiZWdpbiA9ICgodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5udW1iZXJQZXJQYWdlKTtcclxuICAgICAgICBsZXQgZW5kID0gYmVnaW4gKyB0aGlzLm51bWJlclBlclBhZ2U7XHJcbiAgICAgICAgdGhpcy5wYWdlTGlzdCA9IHRoaXMubGlzdC5zbGljZShiZWdpbiwgZW5kKTtcclxuICAgICAgICBwYWdpbmF0aW9uLmRyYXdMaXN0KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGRyYXdMaXN0KCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xyXG4gICAgICAgIHRoaXMucGFnZUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgbWFrZVBhZ2luYXRpb25MaXN0KCkge1xyXG4gICAgICAgIGxldCBwYWdlQ29uYXRpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMubnVtYmVyT2ZQYWdlczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwYWdlTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcGFnZU51bWJlci5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYWdlTnVtYmVyLnRleHRDb250ZW50ID0gYCR7aX1gO1xyXG4gICAgICAgICAgICBwYWdlTnVtYmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3VycmVudFBhZ2VOdW1iZXIpO1xyXG4gICAgICAgICAgICBwYWdlQ29uYXRpbmVyLmFwcGVuZENoaWxkKHBhZ2VOdW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhZ2luYXRpb25MaXN0ID0gWy4uLnBhZ2VDb25hdGluZXIuY2hpbGRyZW5dO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2luYXRpb25MaXN0O1xyXG4gICAgfSxcclxuXHJcbiAgICBwYWdpbmF0aW9uQ3V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlIDw9IDYpIHtcclxuICAgICAgICAgICAgdGhpcy5xdHlQYWdMaXN0ID0gdGhpcy5wYWdpbmF0aW9uTGlzdC5zbGljZSgwLCAxMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gNiAmJiB0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy5wYWdpbmF0aW9uTGlzdC5sZW5ndGggLSA0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucXR5UGFnTGlzdCA9IHRoaXMucGFnaW5hdGlvbkxpc3Quc2xpY2UodGhpcy5jdXJyZW50UGFnZSAtIDYsIHRoaXMuY3VycmVudFBhZ2UgKyA0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFBhZ2UgPj0gdGhpcy5wYWdpbmF0aW9uTGlzdC5sZW5ndGggLSA0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucXR5UGFnTGlzdCA9IHRoaXMucGFnaW5hdGlvbkxpc3Quc2xpY2UoLTEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFnaW5hdGlvbi5kcmF3UGFnaW5hdGlvbigpO1xyXG4gICAgfSxcclxuICAgIGRyYXdQYWdpbmF0aW9uKCkge1xyXG4gICAgICAgIGxldCBwYWdpbmF0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2luYXRpb24nKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnaW5hdGlvbicpLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgICAgICBsZXQgZmlyc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgbGV0IGZpcnN0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgICAgICBmaXJzdEljb24uY2xhc3NOYW1lID0gJ2ZhcyBmYS0xeCBmYS1hbmdsZS1kb3VibGUtbGVmdCc7XHJcbiAgICAgICAgZmlyc3QuYXBwZW5kQ2hpbGQoZmlyc3RJY29uKTtcclxuICAgICAgICBmaXJzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZpcnN0UGFnZSk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5hcHBlbmRDaGlsZChmaXJzdCk7XHJcblxyXG4gICAgICAgIGxldCBwcmV2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGxldCBwcmV2SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgICAgICBwcmV2SWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLTF4IGZhLWFuZ2xlLWxlZnQnO1xyXG4gICAgICAgIHByZXYuYXBwZW5kQ2hpbGQocHJldkljb24pO1xyXG4gICAgICAgIHByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmV2aW91c1BhZ2UpO1xyXG4gICAgICAgIHBhZ2luYXRpb24uYXBwZW5kQ2hpbGQocHJldik7XHJcblxyXG4gICAgICAgIGxldCBwYWdlQ29uYXRpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cclxuICAgICAgICB0aGlzLnF0eVBhZ0xpc3QuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgcGFnZUNvbmF0aW5lci5hcHBlbmRDaGlsZChpdGVtKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGFnaW5hdGlvbi5hcHBlbmRDaGlsZChwYWdlQ29uYXRpbmVyKTtcclxuXHJcbiAgICAgICAgbGV0IG5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgbGV0IG5leHRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgICAgIG5leHRJY29uLmNsYXNzTmFtZSA9ICdmYXMgZmEtMXggZmEtYW5nbGUtcmlnaHQnO1xyXG4gICAgICAgIG5leHQuYXBwZW5kQ2hpbGQobmV4dEljb24pO1xyXG4gICAgICAgIG5leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBuZXh0UGFnZSk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5hcHBlbmRDaGlsZChuZXh0KTtcclxuXHJcbiAgICAgICAgbGV0IGxhc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgbGV0IGxhc3RJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgICAgIGxhc3RJY29uLmNsYXNzTmFtZSA9ICdmYXMgZmEtMXggZmEtYW5nbGUtZG91YmxlLXJpZ2h0JztcclxuICAgICAgICBsYXN0LmFwcGVuZENoaWxkKGxhc3RJY29uKTtcclxuICAgICAgICBsYXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbGFzdFBhZ2UpO1xyXG4gICAgICAgIHBhZ2luYXRpb24uYXBwZW5kQ2hpbGQobGFzdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZUNsYXNzKCkge1xyXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkxpc3QuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpKTtcclxuICAgICAgICB0aGlzLnF0eVBhZ0xpc3QuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRpb25MaXN0W3RoaXMuY3VycmVudFBhZ2UgLSAxXS5jbGFzc05hbWUgPSBcImN1cnJlbnRcIjtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlKCl7XHJcbiAgICAgICAgbGV0IHBhZ2luYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnaW5hdGlvbicpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdpbmF0aW9uJykuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9LFxyXG5cclxuICAgIGxvYWRFdmVudHMoKSB7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5wYWdpbmF0aW9uQ3V0KCk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi50b2dnbGVDbGFzcygpO1xyXG4gICAgICAgIHBhZ2luYXRpb24ubG9hZENvbnRlbnRMaXN0KCk7XHJcbiAgICB9LFxyXG4gICAgbG9hZCgpIHtcclxuICAgICAgICBwYWdpbmF0aW9uLmdldFNjcmVlbldpZHRoKCk7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5tYWtlQ29udGVudExpc3QoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLm51bWJlck9mUGFnZXMgPSBwYWdpbmF0aW9uLmdldE51bWJlck9mUGFnZXMoKTtcclxuICAgICAgICBwYWdpbmF0aW9uLm1ha2VQYWdpbmF0aW9uTGlzdCgpO1xyXG4gICAgICAgIHBhZ2luYXRpb24ucGFnaW5hdGlvbkN1dCgpO1xyXG4gICAgICAgIHBhZ2luYXRpb24ubG9hZENvbnRlbnRMaXN0KCk7XHJcblxyXG4gICAgICAgIHBhZ2luYXRpb24uZHJhd0xpc3QoKTtcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGN1cnJlbnRQYWdlTnVtYmVyKGV2KSB7XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbGV0IHBvc2l0aW9uID0gcGFyc2VJbnQoZXYudGFyZ2V0LnRleHQpO1xyXG4gICAgaWYgKHBvc2l0aW9uICE9PSBwYWdpbmF0aW9uLmN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50UGFnZSA9IHBvc2l0aW9uO1xyXG4gICAgICAgIHBhZ2luYXRpb24ubG9hZEV2ZW50cygpO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbmV4dFBhZ2UoZXYpIHtcclxuICAgIGlmIChwYWdpbmF0aW9uLmN1cnJlbnRQYWdlICE9PSBwYWdpbmF0aW9uLm51bWJlck9mUGFnZXMpIHtcclxuICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnRQYWdlICs9IDE7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5sb2FkRXZlbnRzKCk7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXZpb3VzUGFnZShldikge1xyXG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmIChwYWdpbmF0aW9uLmN1cnJlbnRQYWdlICE9PSAxKSB7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50UGFnZSAtPSAxO1xyXG4gICAgICAgIHBhZ2luYXRpb24ubG9hZEV2ZW50cygpO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmlyc3RQYWdlKGV2KSB7XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKHBhZ2luYXRpb24uY3VycmVudFBhZ2UgIT09IDEpIHtcclxuICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICBwYWdpbmF0aW9uLmxvYWRFdmVudHMoKTtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhc3RQYWdlKGV2KSB7XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKHBhZ2luYXRpb24uY3VycmVudFBhZ2UgIT09IHBhZ2luYXRpb24ubnVtYmVyT2ZQYWdlcykge1xyXG4gICAgICAgIHBhZ2luYXRpb24uY3VycmVudFBhZ2UgPSBwYWdpbmF0aW9uLm51bWJlck9mUGFnZXM7XHJcbiAgICAgICAgcGFnaW5hdGlvbi5sb2FkRXZlbnRzKCk7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
